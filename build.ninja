cc = clang
cflags = -Iinclude -g -Wall -Wextra -Wno-missing-field-initializers --std=c11

rule cc
  command = $cc $cflags -c $in -o $out
  description = CC $in

rule ld
  command = $cc $in -o $out $ldflags
  description = LD $in

build build/http.o: cc src/http.c

build build/libtest.o: cc test/libtest.c
build build/libtest: ld build/libtest.o build/http.o
